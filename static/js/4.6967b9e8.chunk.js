(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{297:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__1Lgi8",dialogsItems:"Dialogs_dialogsItems__3jEqk",active:"Dialogs_active__2Pwlb",dialog:"Dialogs_dialog__2W2gn",activeLink:"Dialogs_activeLink__2QnIJ",messages:"Dialogs_messages__1eioM",newPostArea:"Dialogs_newPostArea__1BvXo",newTextArea:"Dialogs_newTextArea__2srXD",buttons:"Dialogs_buttons__aUsoV",textAdd:"Dialogs_textAdd__268cn",textRemove:"Dialogs_textRemove__3HGN_",posts:"Dialogs_posts__3vb8k"}},298:function(e,s,a){e.exports={messages:"MessageItem_messages__8iSGl",message:"MessageItem_message__2U8-k",messageAlignLeft:"MessageItem_messageAlignLeft__3oNQw",messageAlignRight:"MessageItem_messageAlignRight__T_wqU",logo:"MessageItem_logo__1w8ZH",author:"MessageItem_author__2P8KD",hiddenAuthor:"MessageItem_hiddenAuthor__kKdyR",authorHovered:"MessageItem_authorHovered__3ItFa",messageCloud:"MessageItem_messageCloud__2aV4A",blueCloud:"MessageItem_blueCloud__1bsjS",radiusBottomNone:"MessageItem_radiusBottomNone__1gULE",radiusTopRightNone:"MessageItem_radiusTopRightNone__1HU6T",greenCloud:"MessageItem_greenCloud__2DrUn"}},306:function(e,s,a){"use strict";a.r(s);var t=a(1),i=a(0),o=a.n(i),n=a(297),r=a.n(n),d=a(12),g=function(e){var s="/dialogs/"+e.dialogId;return Object(t.jsx)("div",{className:r.a.dialog,children:Object(t.jsx)(d.b,{to:s,activeClassName:r.a.activeLink,children:e.name})})},l=a(298),c=a.n(l),m=a(100),u=(a(73),a(111),function(e){var s=0===e.userid?"blueCloud":"greenCloud",a=0===e.userid?"messageAlignLeft":"messageAlignRight",i=e.order.sameNextUserId?"hiddenAuthor":"",o=e.order.sameNextUserId?"radiusBottomNone":"",n=e.order.samePrevUserId?"radiusTopRightNone":"",r=function(e,s){var a=s.length;if(0===e)return"Me";for(var t=0;t<a;t++)if(s[t].id===e)return s[t].name}(e.userid,e.props.dialogsPage.dialogs);return Object(t.jsx)("div",{className:c.a.messages,children:Object(t.jsxs)("div",{className:c.a.message+" "+c.a[a],children:[Object(t.jsxs)("div",{className:c.a[s]+" "+c.a.messageCloud+" "+c.a[o]+" "+c.a[n],onMouseOver:function(e){e.currentTarget.parentElement.children[1].classList.add("authorHovered")},children:[" ",e.message]}),Object(t.jsx)("div",{className:c.a.author+" "+c.a[i],children:r})]})})}),_=a(11),j=a(93),b=a(133),h=a(34),v=a(90),x=Object(v.a)(140),f=Object(b.a)({form:"AddMessageForm"})((function(e){return Object(t.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(t.jsx)("div",{className:r.a.newTextArea,children:Object(t.jsx)(j.a,{component:h.b,validate:[v.b,x],name:"newMessageText",placeholder:"New message"})}),Object(t.jsxs)("div",{className:r.a.buttons,children:[Object(t.jsx)("div",{className:r.a.textAdd,children:Object(t.jsx)("button",{children:"Add message"})}),Object(t.jsx)("div",{className:r.a.textRemove,children:Object(t.jsx)("button",{children:"Remove message"})})]})]})})),O=function(e){var s=e.dialogsPage,a=s.dialogs.map((function(e){return Object(t.jsx)(g,{name:e.name,dialogId:e.id},e.id)})),n=s.messages.map((function(s,a,i){var o={samePrevUserId:a>0&&s.userid===i[a-1].userid,sameNextUserId:a<i.length-1&&s.userid===i[a+1].userid};return Object(t.jsx)(u,{props:e,order:o,message:s.message,userid:s.userid},s.id)})),d=o.a.createRef();return Object(i.useEffect)((function(){!0===e.isAuth&&d.current.scrollTo(0,d.current.scrollHeight)})),!1===e.isAuth?Object(t.jsx)(_.a,{to:"/login"}):Object(t.jsxs)("div",{className:r.a.dialogs,children:[Object(t.jsx)("div",{className:r.a.dialogsItems,children:a}),Object(t.jsx)("div",{className:r.a.messages,ref:d,children:n}),Object(t.jsx)("div",{className:r.a.newPostArea,children:Object(t.jsx)(f,{onSubmit:function(s){e.addMessage(s.newMessageText)}})})]})},p=a(13),N=a(9),I=a(101);s.default=Object(N.d)(Object(p.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addMessage:function(s){e(Object(m.b)(s))},removeMessage:function(){alert("Remove post")}}})),I.a)(O)}}]);
//# sourceMappingURL=4.6967b9e8.chunk.js.map