{"version":3,"sources":["redux/dialogsReducer.js","hoc/WithAuthRedirect.js","redux/sidebarReducer.js","assets/img/undefined-user.svg","components/Messages/Messages.module.css","components/Music/Music.module.css","components/News/News.module.css","components/Params/Params.module.css","components/NavBar/NavBar.module.css","api/api.js","components/Common/Paginator/Paginator.module.css","redux/authReducer.js","redux/appReducer.js","utils/objectHelper.js","redux/userReducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/NavBar/NavBar.jsx","components/Login/LoginForm.jsx","components/Login/Login.jsx","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/userSelectors.js","components/Users/UsersContainer.jsx","components/Messages/Messages.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Params/Params.jsx","App.js","hoc/WithSuspense.js","reportWebVitals.js","index.js","components/Common/FormControls/FormControls.jsx","components/Users/Users.module.css","components/Common/FormControls/FormControls.module.css","assets/img/loader.gif","components/Common/Loader/Loader.jsx","components/Header/Header.module.css","redux/profileReducer.js","utils/validators/validators.js","components/Common/Loader/Loader.module.css"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","userid","message","sendNewMessageCreator","newMessageText","type","dialogsReducer","state","action","newMessage","length","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","sidebarReducer","module","exports","instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","post","unfollowUser","delete","profileAPI","getProfile","userId","getStatus","setStatus","statusText","put","status","authAPI","authMe","login","email","password","rememberMe","logout","SET_USER_DATA","TOGGLE_IS_FETCHING","isFetching","setIsFetching","setAuthUserDataCreator","payload","getAuthUserThunkCreator","dispatch","a","resultCode","authReducer","SET_INITIALIZE_SUCCESS","initialized","appReducer","updateObjectInArray","items","itemId","propName","newObjAttr","map","elem","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOOGLE_IS_FETCHING","TOOGLE_IS_FOLLOWING_PROGRESS","users","portionSize","usersTotalCount","followingInProgress","followSuccess","unfollowSuccess","toggleIsFollowingProgress","followUnfollow","apiMethod","success","usersReducer","followed","count","filter","reducers","combineReducers","dialogsPage","profilePage","profileReducer","sidebar","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","className","classes","header","href","img","src","alt","loginBlock","onClick","HeaderContainer","NavBar","nav","item","activeClassName","activeLink","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","createField","Input","required","formSummaryError","captcha","stopSubmit","_error","formData","Paginator","totalCount","setCurrentPage","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPorionPageNumber","paginator","button","buttonArrow","buttonArrowLeft","page","bold","e","pageNumber","buttonArrowRight","User","user","userKey","follow","unfollow","userContainer","userIcon","photoUrl","photos","small","undefinedUser","userName","disabled","some","Users","u","getPageSize","getUsersTotalCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","getPortionSize","getUsersSelector","createSelector","UsersAPIContainer","choosedPage","getUsersThunkCreator","render","bind","Messages","main","Music","News","Params","DialogsContainer","lazy","ProfileContainer","getMessages","App","initializeApp","path","Suspense","fallback","Loader","UsersContainer","component","Settings","AppComposed","promise","Promise","all","withRouter","AppContainer","console","log","process","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","FormControl","input","meta","isError","touched","formControl","children","TextArea","restProps","placeholder","validators","text","validate","loaderCover","loaderImg","loader","ADD_POST","DELETE_POST","CHOSE_POST_TEXT","SET_USER_PROFILE","SET_USER_STATUS","posts","likescount","chosenPostId","profile","addPostActionCreator","newPostText","chosePostActionCreator","getUserStatus","getUserProfile","getUserStatusThunkCreator","setUserStatusThunkCreator","newPost","p","postId","value","maxLengthThunkCreator"],"mappings":"6JAAMA,EAAc,cAGhBC,EAAgB,CAEhBC,QAAU,CACN,CAAEC,GAAI,EAAGC,KAAM,yBACf,CAAED,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,QACf,CAAED,GAAI,EAAGC,KAAM,aAEnBC,SAAW,CACP,CAAEF,GAAI,EAAGG,OAAQ,EAAGC,QAAS,MAC7B,CAAEJ,GAAI,EAAGG,OAAQ,EAAGC,QAAS,MAC7B,CAAEJ,GAAI,EAAGG,OAAQ,EAAGC,QAAS,gBAC7B,CAAEJ,GAAI,EAAGG,OAAQ,EAAGC,QAAS,iCAC7B,CAAEJ,GAAI,EAAGG,OAAQ,EAAGC,QAAS,0DAsBxBC,EAAwB,SAACC,GAClC,MAAO,CACHC,KAAMV,EACNS,eAAgBA,IAKTE,IA1BQ,WAAmC,IAAlCC,EAAiC,uDAAzBX,EAAcY,EAAW,uCACrD,OAAQA,EAAOH,MACX,KAAKV,EACD,IAAIc,EAAa,CACbX,GAAIS,EAAMP,SAASU,OAAS,EAC5BR,QAASM,EAAOJ,gBAEpB,OAAO,2BACAG,GADP,IAEIP,SAAS,GAAD,mBAAMO,EAAMP,UAAZ,CAAsBS,MAItC,QACI,OAAOF,K,qJC7BfI,EAA6B,SAACJ,GAAD,MAAY,CACzCK,OAAQL,EAAMM,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAKnC,OAA2B,IAAtBC,KAAKC,MAAMN,OACL,cAAC,IAAD,CAAUO,GAAI,WAElB,cAACJ,EAAD,eAAeE,KAAKC,YARQ,GACXE,IAAML,WAatC,OAFiCM,YAAQV,EAARU,CAAoCL,K,iCCpBzE,IAAIpB,EAAe,GAKJ0B,IAHQ,WAAmC,IAAlCf,EAAiC,uDAAzBX,EAC5B,OAAOW,I,iCCJI,QAA0B,4C,oBCCzCgB,EAAOC,QAAU,CAAC,KAAO,yB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,uB,mBCAzBD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,6B,gCCDrF,kHAIMC,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,+CACTC,QAAS,CACL,UAAW,0CAKNC,EAAU,CAEnBC,SAAU,WAAsC,IAArCC,EAAoC,uDAAtB,EAAIC,EAAkB,uDAAP,GACpC,OAAOR,EAASS,IAAT,sBAA6BF,EAA7B,kBAAkDC,IACxDE,MAAM,SAACC,GAEJ,OAAOA,EAASC,SAIxBC,WAAY,SAACrC,GACT,OAAOwB,EAASc,KAAT,kBAAyBtC,KAGpCuC,aAAc,SAACvC,GACX,OAAOwB,EAASgB,OAAT,kBAA2BxC,MAM7ByC,EAAa,CAEtBC,WAAY,SAACC,GACT,OAAOnB,EAASS,IAAT,mBAAyBU,IAC/BT,MAAM,SAAEC,GACL,OAAOA,MAIfS,UAAW,SAACD,GACR,OAAOnB,EAASS,IAAT,0BAAgCU,IACtCT,MAAM,SAACC,GAEJ,OAAOA,MAIfU,UAAW,SAACC,GACR,OAAOtB,EAASuB,IAAT,kBAAgC,CAAEC,OAAQF,IAChDZ,MAAM,SAACC,GACJ,OAAOA,OAONc,EAAU,CACnBC,OAAQ,WACJ,OAAO1B,EAASS,IAAT,aAEXkB,MAAO,SAAEC,EAAOC,GAAmC,IAAzBC,EAAwB,wDAC9C,OAAO9B,EAASc,KAAT,cAA6B,CAACc,QAAOC,WAAUC,gBAE1DC,OAAQ,WACJ,OAAO/B,EAASgB,OAAT,kB,+DCpEflB,EAAOC,QAAU,CAAC,aAAe,gCAAgC,WAAa,8BAA8B,UAAY,6BAA6B,OAAS,0BAA0B,YAAc,+BAA+B,gBAAkB,mCAAmC,iBAAmB,sC,qNCEvSiC,EAAgB,gBAChBC,EAAqB,qBAEvB9D,EAAgB,CAChBgD,OAAQ,KACRS,MAAO,KACPD,MAAO,KACPxC,QAAQ,EACR+C,YAAY,GA6BHC,EAAgB,SAAED,GAC3B,MAAO,CACHtD,KAAMqD,EACNC,WAAYA,IAIPE,EAAyB,SAACjB,EAAQS,EAAOD,EAAOxC,GACzD,MAAO,CACHP,KAAMoD,EACNK,QAAS,CACLlB,OAAQA,EACRS,MAAOA,EACPD,MAAOA,EACPxC,OAAQA,KAKPmD,EAA0B,WACnC,8CAAO,WAAOC,GAAP,uBAAAC,EAAA,6DACHD,EAAUJ,GAAc,IADrB,SAGmBV,IAAQC,SAH3B,OAK+B,KAF9Bf,EAHD,QAKWC,KAAK6B,aAAmB,EACP9B,EAASC,KAAKA,KAAnCvC,EAD2B,EAC3BA,GAAIuD,EADuB,EACvBA,MAAOD,EADgB,EAChBA,MACjBY,EAAUH,EAAuB/D,EAAIuD,EAAOD,GAAO,KAEvDY,EAAUJ,GAAc,IATrB,2CAAP,uDAgDWO,EA9FK,WAAmC,IAAlC5D,EAAiC,uDAAzBX,EAAcY,EAAW,uCAGlD,OAAQA,EAAOH,MACX,KAAKoD,EACD,OAAO,2BACAlD,GACAC,EAAOsD,SAKlB,KAAKJ,EACD,OAAO,2BACAnD,GADP,IAEIoD,WAAYnD,EAAOmD,aAI3B,QACI,OAAOpD,IChCb6D,EAAyB,yBAE3BxE,EAAgB,CAChByE,aAAa,GA+BFC,EA5BI,WAAmC,IAAlC/D,EAAiC,uDAAzBX,EAAcY,EAAW,uCACjD,OAAQA,EAAOH,MACX,KAAK+D,EACD,OAAO,2BACA7D,GADP,IAEI8D,aAAa,IAIrB,QACI,OAAO9D,I,mDClBNgE,EAAsB,SAACC,EAAOC,EAAQC,EAAUC,GAE1D,OAAOH,EAAMI,KAAK,SAAAC,GACb,OAAKA,EAAKH,KAAcD,EACb,2BAAKI,GAASF,GAElBE,MCDTC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAG/BxF,EAAe,CACjByF,MAAO,GACPpD,SAAU,GACVqD,YAAa,GACbC,gBAAiB,EACjBvD,YAAa,EACb2B,YAAY,EACZ6B,oBAAqB,IA8EZC,EAAgB,SAAC3F,GAC1B,MAAO,CACHO,KAAMyE,EACNhF,OAIK4F,EAAkB,SAAC5F,GAC5B,MAAO,CACHO,KAAM0E,EACNjF,OA0BK8D,EAAgB,SAAED,GAC3B,MAAO,CACHtD,KAAM8E,EACNxB,WAAYA,IAIPgC,EAA4B,SAAEhC,EAAY1D,GACnD,MAAO,CACHI,KAAM8E,EACNxB,WAAYA,EACZ1D,OAAQA,IAoBV2F,EAAc,uCAAI,WAAO5B,EAAU/D,EAAQ4F,EAAWC,GAApC,SAAA7B,EAAA,6DAEpBD,EAAU2B,GAA0B,EAAM1F,IAFtB,SAGC4F,EAAU5F,GAHX,OAIc,IAJd,OAINoC,KAAK6B,YACfF,EAAU8B,EAAQ7F,IAEtB+D,EAAU2B,GAA0B,EAAO1F,IAPvB,2CAAJ,4DA0BL8F,EAxKM,WAAqC,IAAnCxF,EAAkC,uDAA1BX,EAAcY,EAAY,uCACrD,OAAQA,EAAOH,MACX,KAAKyE,EAED,OAAO,2BACAvE,GADP,IAEI8E,MAAOd,EAAqBhE,EAAM8E,MAAO7E,EAAOV,GAAI,KAAM,CAACkG,UAAU,MAY7E,KAAKjB,EACD,OAAO,2BACAxE,GADP,IAEI8E,MAAQd,EAAqBhE,EAAM8E,MAAO7E,EAAOV,GAAI,KAAM,CAACkG,UAAU,MAS9E,KAAKhB,EAED,OAAO,2BACAzE,GADP,IAEI8E,MAAO7E,EAAO6E,QAGtB,KAAKJ,EAED,OAAO,2BACA1E,GADP,IAEIyB,YAAaxB,EAAOwB,cAG5B,KAAKkD,EAED,OAAO,2BACA3E,GADP,IAEIgF,gBAAiB/E,EAAOyF,QAGhC,KAAKd,EAED,OAAO,2BACA5E,GADP,IAEIoD,WAAYnD,EAAOmD,aAG3B,KAAKyB,EAED,IAAII,EAAsBhF,EAAOmD,WAAP,sBAClBpD,EAAMiF,qBADY,CACShF,EAAOP,SACtCM,EAAMiF,oBAAoBU,QAAQ,SAACpG,GAAS,OAAOA,IAAOU,EAAOP,UACrE,OAAO,2BACAM,GADP,IAEIiF,oBAAqBA,IAG7B,QACI,OAAOjF,I,SClFf4F,GAAWC,YAAgB,CAC3BC,YAAa/F,IACbgG,YAAaC,IACbC,QAASlF,IACTmF,UAAWV,EACXlF,KAAMsD,EACNuC,IAAKpC,EACLqC,KAAMC,MAIJC,GAAmBC,OAAOC,sCAAwCC,IAClEC,GAAQC,YACVf,GAEAU,GACIM,YAAgBC,OAMTH,MACfH,OAAOG,MAAQA,G,wBCNAI,GAxBA,SAACnG,GAEZ,OACI,yBAAQoG,UAAWC,KAAQC,OAA3B,UACI,mBAAGC,KAAK,IAAR,SACI,qBAAKH,UAAWC,KAAQG,IAAKC,IAAI,sHAAsHC,IAAI,OAE/J,qBAAKN,UAAWC,KAAQM,WAAxB,SAGQ3G,EAAMN,OACJ,gCACM,8BAAMM,EAAMkC,QADlB,MACiC,wBAAQ0E,QAAS5G,EAAMsC,OAAvB,uBAEjC,cAAC,IAAD,CAASrC,GAAI,SAAb,yBCVhB4G,I,wDACF,WAAY7G,GAAO,uCACTA,G,kGAON,OAAO,cAAC,GAAD,eAAYD,KAAKC,Y,GATFE,IAAML,YA+BrBM,gBAlBS,SAACd,GAErB,MAAO,CACHK,OAAQL,EAAMM,KAAKD,OACnBwC,MAAO7C,EAAMM,KAAKuC,SAcc,CAACI,ONyDnB,WAClB,8CAAO,WAAQQ,GAAR,SAAAC,EAAA,sEACkBf,IAAQM,SAD1B,OAG+B,IAH/B,OAGWnB,KAAK6B,YACfF,EAAUH,EAAwB,KAAM,KAAM,MAAM,IAJrD,2CAAP,wDM1DWxC,CAAoC0G,I,oBC8BpCC,GAhEA,WACd,OACC,sBAAKV,UAAWC,KAAQU,IAAxB,UAEC,qBAAKX,UAAWC,KAAQW,KAAxB,SACC,cAAC,IAAD,CACC/G,GAAG,WACHgH,gBAAiBZ,KAAQa,WAF1B,uBAQD,qBAAKd,UAAWC,KAAQW,KAAxB,SACC,cAAC,IAAD,CACC/G,GAAG,WACHgH,gBAAiBZ,KAAQa,WAF1B,uBAMQ,qBAAKd,UAAWC,KAAQW,KAAxB,SACR,cAAC,IAAD,CACC/G,GAAG,SACHgH,gBAAiBZ,KAAQa,WAF1B,qBAOD,qBAAKd,UAAWC,KAAQW,KAAxB,SACC,cAAC,IAAD,CACC/G,GAAG,YACHgH,gBAAiBZ,KAAQa,WAF1B,wBAOD,qBAAKd,UAAWC,KAAQW,KAAxB,SACC,cAAC,IAAD,CACC/G,GAAG,QACHgH,gBAAiBZ,KAAQa,WAF1B,oBAOD,qBAAKd,UAAWC,KAAQW,KAAxB,SACC,cAAC,IAAD,CACC/G,GAAG,SACHgH,gBAAiBZ,KAAQa,WAF1B,qBAOD,qBAAKd,UAAWC,KAAQW,KAAxB,SACC,cAAC,IAAD,CACC/G,GAAG,YACHgH,gBAAiBZ,KAAQa,WAF1B,4B,gDCXWC,GAJQC,aAAU,CAC7B3B,KAAM,SADa2B,EAlCL,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,aAAcC,EAAY,EAAZA,MAC/B,OACI,uBAAMhI,OAAO,GAAGiI,SAAWF,EAA3B,UACMG,aAAY,SAAS,EAAO,QAASC,KAAO,CAACC,OAK7CF,aAAY,WAAY,WAAY,WAAYC,KAAO,CAACC,OAQvDF,aAAY,aAAc,WAAY,GAAIC,KAAO,GAAI,eAMtDH,EACD,qBAAKlB,UAAWC,KAAQsB,iBAAxB,SAA2CL,IAC3C,wBAGD,8BACI,mDCRDnH,gBAJS,SAACd,GAAD,MAAY,CAChCK,OAAQL,EAAMM,KAAKD,UAGiB,CAAEwC,MToDrB,SAAEC,EAAOC,EAAUC,EAAYuF,GAChD,8CAAO,WAAQ9E,GAAR,mBAAAC,EAAA,sEAEkBf,IAAQE,MAAOC,EAAOC,EAAUC,GAFlD,OAI+B,KAF9BnB,EAFD,QAIWC,KAAK6B,WACfF,EAAUD,MAEN7D,EAAYkC,EAASC,KAAKrC,SAASU,OAAS,GAAK0B,EAASC,KAAKrC,SAAS,IAAQ,sBAChFQ,EAASuI,YAAW,QAAS,CAACC,OAAQ9I,IAC1C8D,EAASxD,IATV,2CAAP,wDSrDWa,EAvBD,SAACH,GAQX,OAAIA,EAAMN,OACC,cAAC,IAAD,CAAUO,GAAG,aAIpB,gCACI,uCACA,cAAC,GAAD,CAAgBsH,SAbP,SAACQ,GAGd/H,EAAMkC,MAAM6F,EAAS5F,MAAO4F,EAAS3F,SAAU2F,EAAS1F,qB,8BC4CjD2F,GAnDC,SAAC,GAKb,IALmF,IAArEC,EAAoE,EAApEA,WAAYlH,EAAwD,EAAxDA,SAAUD,EAA8C,EAA9CA,YAAaoH,EAAiC,EAAjCA,eAAgB9D,EAAiB,EAAjBA,YAE7D+D,EAAaC,KAAKC,KAAMJ,EAAalH,GACrCuH,EAAQ,GAEFC,EAAI,EAAGA,GAAKJ,EAAYI,IAC9BD,EAAME,KAAKD,GAGf,IAAIE,EAAeL,KAAKC,KAAMF,EAAa/D,GATuC,EAU1CsE,mBAAS,GAViC,oBAU7EC,EAV6E,KAU9DC,EAV8D,KAW9EC,GAA0BF,EAAgB,GAAMvE,EAAc,EAC9D0E,EAAwBH,EAAgBvE,EAE5C,OACQ,sBAAKgC,UAAWC,KAAQ0C,UAAxB,UACMJ,EAAgB,GACd,wBAAQvC,UAAWC,KAAQ2C,OAAQpC,QAAU,WAAOgC,EAAkBD,EAAgB,IAAtF,SACI,qBAAKvC,UAAWC,KAAQ4C,YAAc,IAAM5C,KAAQ6C,oBAIxDZ,EACCtD,QAAQ,SAACmE,GACN,OAAOA,GAAQN,GAAyBM,GAAQL,KAEnDpF,KAAK,SAACyF,GACH,IAAIC,EAAOtI,IAAgBqI,EAAQ,eAAiB,GACpD,OACI,sBAAMvC,QAAU,SAACyC,GAAQnB,EAAeiB,IAE/B/C,UAAYC,KAAQiD,WAAa,IAAMjD,KAAQ+C,GAFxD,SAGOD,GAFOA,MAOxBV,EAAeE,GACb,wBAAQvC,UAAWC,KAAQ2C,OAAQpC,QAAU,WAAOgC,EAAkBD,EAAgB,IAAtF,SACI,qBAAKvC,UAAWC,KAAQ4C,YAAc,IAAM5C,KAAQkD,yB,8BCJ7DC,GAjCJ,SAAC,GAA4D,IAA3DC,EAA0D,EAA1DA,KAAMC,EAAoD,EAApDA,QAASpF,EAA2C,EAA3CA,oBAAqBqF,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,SACrD,OACI,sBAAKxD,UAAWC,KAAQwD,cAAxB,UACI,qBAAKzD,UAAWC,KAAQyD,SAAxB,SACI,qBAAKrD,IAAKgD,EAAKM,SAAf,SACI,cAAC,IAAD,CAAS9J,GAAI,YAAcwJ,EAAK7K,GAAhC,SACI,qBAAK6H,IAA0B,MAArBgD,EAAKO,OAAOC,MAAgBR,EAAKO,OAAOC,MAAQC,KAClDxD,IAAI,IACJN,UAAWC,KAAQ0D,iBAKvC,sBAAK3D,UAAWC,KAAQ8D,SAAxB,UACI,yCAAYV,EAAK5K,QACjB,2CAAc4K,EAAK1H,UACnB,uCAAU0H,EAAK7K,SAGnB,qBAAKwH,UAAWC,KAAQsD,OAAxB,SAEQF,EAAK3E,SACH,wBAAQsF,SAAW9F,EAAoB+F,MAAM,SAACzL,GAAD,OAAQA,IAAO6K,EAAK7K,MAC3DgI,QAAY,WAAQgD,EAASH,EAAK7K,KADxC,sBAGA,wBAAQwL,SAAU9F,EAAoB+F,MAAM,SAACzL,GAAD,OAAQA,IAAO6K,EAAK7K,MACtDgI,QAAY,WAAQ+C,EAAOF,EAAK7K,KAD1C,wBAvB8B8K,ICyBrCY,GA7BH,SAACtK,GACT,OACI,qCACG,cAAC,GAAD,CACKiI,WAAcjI,EAAMqE,gBACpBtD,SAAYf,EAAMe,SAClBD,YAAcd,EAAMc,YACpBoH,eAAiBlI,EAAMkI,eACvB9D,YAAapE,EAAMoE,cAGnBpE,EAAMmE,MAAMT,KAAI,SAAA6G,GAEZ,OACI,cAAC,GAAD,CACId,KAAMc,EACNb,QAASa,EAAE3L,GAEX0F,oBAAqBtE,EAAMsE,oBAC3BqF,OAAQ3J,EAAM2J,OACdC,SAAU5J,EAAM4J,UAHXW,EAAE3L,W,oBChBtB4L,GAAc,SAACnL,GACxB,OAAOA,EAAMkG,UAAUxE,UAGd0J,GAAqB,SAACpL,GAC/B,OAAOA,EAAMkG,UAAUlB,iBAGdqG,GAAiB,SAACrL,GAC3B,OAAOA,EAAMkG,UAAUzE,aAGd6J,GAAgB,SAACtL,GAC1B,OAAOA,EAAMkG,UAAU9C,YAGdmI,GAAyB,SAACvL,GACnC,OAAOA,EAAMkG,UAAUjB,qBAGduG,GAAY,SAACxL,GACtB,OAAOA,EAAMkG,UAAU7F,QAGdoL,GAAiB,SAACzL,GAE3B,OAAOA,EAAMkG,UAAUnB,aAYrBvD,GAAW,SAACxB,GACd,OAAOA,EAAMkG,UAAUpB,OAGd4G,GAAmBC,aAC5BnK,GACA8J,IACA,SAACxG,EAAO1B,GAAiB,OAAO0B,EAAMa,QAAQ,SAAAuF,GAAC,OAAI,QC/BjDU,G,4MAOF/C,eAAiB,SAAEgD,GAAkB,IAC5BnK,EAAY,EAAKf,MAAjBe,SACL,EAAKf,MAAMmL,qBAAsBD,EAAanK,I,EAGlDqK,OAAS,WAET,OAAO,cAAC,GAAD,CACCjH,MAAO,EAAKnE,MAAMmE,MAClBpD,SAAU,EAAKf,MAAMe,SACrBqD,YAAa,EAAKpE,MAAMoE,YACxBC,gBAAiB,EAAKrE,MAAMqE,gBAC5B5B,WAAY,EAAKzC,MAAMyC,WACvB6B,oBAAqB,EAAKtE,MAAMsE,oBAChCqF,OAAQ,EAAK3J,MAAM2J,OACnBC,SAAU,EAAK5J,MAAM4J,SACrB1B,eAAgB,EAAKA,eACrBpH,YAAa,EAAKd,MAAMc,e,kEAtBZ,IAAD,EACef,KAAKC,MAA9Bc,EADU,EACVA,YAAaC,EADH,EACGA,SAClBhB,KAAKC,MAAMmL,qBAAsBrK,EAAaC,O,GAJtBb,IAAML,WAqEvBiG,eACX3F,aA7BoB,SAACd,GACrB,MAAO,CACH8E,MAAO4G,GAAiB1L,GACxB0B,SAAUyJ,GAAYnL,GACtBgF,gBAAiBoG,GAAmBpL,GACpCyB,YAAa4J,GAAerL,GAC5BoD,WAAYkI,GAActL,GAC1BiF,oBAAqBsG,GAAuBvL,GAC5CK,OAAQmL,GAAUxL,GAClB+E,YAAa0G,GAAezL,MAoBN,CACtB8L,qBX8D4B,SAAED,EAAanK,GAC/C,8CAAO,WAAO+B,GAAP,eAAAC,EAAA,6DAEHD,EAAUJ,GAAc,IACxBI,EAnCG,CACH3D,KAAM4E,EACNjD,YAiC0BoK,IAHvB,SAKkBtK,IAAQC,SAAUqK,EAAanK,GALjD,OAKCG,EALD,OAOH4B,EAAUJ,GAAe,IACzBI,GAhDiBqB,EAgDE,YAAKjD,EAASoC,OA/C9B,CACHnE,KAAM2E,EACNK,WA8CArB,GAnC4BuB,EAmCEnD,EAAS+G,WAjCpC,CACH9I,KAAM6E,EACNe,MAAOV,KAsBJ,iCA1BuB,IAAEA,EAdXF,IAwCd,OAAP,uDW9DIwF,OXqF0B,SAAE5K,GAChC,8CAAO,WAAO+D,GAAP,eAAAC,EAAA,sDAEC4B,EAAY/D,IAAQQ,WAAWiK,KAAKzK,KACxC8D,EAAe5B,EAAU/D,EAAQ4F,EAAWJ,GAHzC,2CAAP,uDWrFIqF,SX4F4B,SAAC7K,GACjC,8CAAO,WAAO+D,GAAP,eAAAC,EAAA,sDAEC4B,EAAY/D,IAAQU,aAAa+J,KAAKzK,KAC1C8D,EAAe5B,EAAU/D,EAAQ4F,EAAWH,GAHzC,2CAAP,yDW3FA5E,KANWkG,CAObmF,I,qBCpFaK,GARE,SAACtL,GACd,OACI,qBAAKoG,UAAWC,KAAQkF,KAAxB,uB,qBCMOC,GARD,SAACxL,GACX,OACI,qBAAKoG,UAAWC,KAAQkF,KAAxB,oB,qBCMOE,GARF,SAACzL,GACV,OACI,qBAAKoG,UAAWC,KAAQkF,KAAxB,mB,qBCMOG,GARA,SAAC1L,GACZ,OACI,qBAAKoG,UAAWC,KAAQkF,KAAxB,qBCoBFI,GAAmBzL,IAAM0L,MAAM,kBAAM,iCACrCC,GAAmB3L,IAAM0L,MAAM,kBAAM,iCAGvCE,GAAc,kBAAM,cAAC,GAAD,KAElBC,G,kLAEEhM,KAAKC,MAAMgM,kB,+BAKX,OAAKjM,KAAKC,MAAMmD,YAKb,sBAAKiD,UAAU,cAAf,UACK,cAAC,GAAD,IACA,cAAC,GAAD,IACA,sBAAKA,UAAU,sBAAf,UAGI,cAAC,IAAD,CAAO6F,KAAK,oBACLb,QC/CEvL,ED+CmBgM,GC7CrC,SAAC7L,GACJ,OACI,cAAC,IAAMkM,SAAP,CAAgBC,SAAU,cAACC,EAAA,EAAD,IAA1B,SACI,cAACvM,EAAD,eAAeG,UD4CX,cAAC,IAAD,CAAOiM,KAAK,WACRb,OAAS,kBAAM,cAAC,IAAMc,SAAP,CAAgBC,SAAU,6CAA1B,SAAiD,cAACR,GAAD,SAEpE,cAAC,IAAD,CAAOM,KAAK,SACRb,OAAS,kBAAM,cAACiB,GAAD,OAEnB,cAAC,IAAD,CAAOJ,KAAK,SACPb,OAAS,kBAAM,cAAC,GAAD,OAEpB,cAAC,IAAD,CAAOa,KAAK,YAAYK,UAAWR,KACnC,cAAC,IAAD,CAAOG,KAAK,SAAYK,UAAWd,KACnC,cAAC,IAAD,CAAOS,KAAK,YAAYK,UAAWC,KACnC,cAAC,IAAD,CAAON,KAAK,QAAYK,UAAWb,WAzBpC,cAACW,EAAA,EAAD,ICpCS,IAACvM,M,GD4BXK,IAAML,WA4CpB2M,GAAc1G,YACd3F,aALoB,SAACd,GAAD,MAAY,CAChC8D,YAAa9D,EAAMmG,IAAIrC,eAIG,CAAE6I,clB/CH,kBAAM,SAAClJ,GAChC,IAAI2J,EAAU3J,EAAUD,KAExB6J,QAAQC,IAAK,CAACF,IACbxL,MAAM,WAAO6B,EATP,CACH3D,KAAM+D,WkBoDV0J,IAFc9G,CAGhBiG,IAiBac,GAdM,WAEjB,OADAC,QAAQC,IAAI,yBAA0BC,0IAGlC,cAAC,IAAD,CAAYC,SAAUD,SAAtB,SAEI,cAAC,IAAD,CAAUjH,MAAOA,GAAjB,SACI,cAACyG,GAAD,SE5EDU,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBnM,MAAK,YAAkD,IAA/CoM,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCEVO,IAAStC,OACL,cAAC,GAAD,IACAuC,SAASC,eAAe,SAWhCV,M,gMClBMW,EAAc,SAAC,GAA4B,EAA3BC,MAA4B,IAArBC,EAAoB,EAApBA,KAAS/N,EAAW,gCACvCgO,EAAUD,EAAKE,SAAWF,EAAKzG,MACrC,OACI,sBAAKlB,UAAWC,IAAQ6H,YAAc,KAAQF,GAAW3H,IAAQiB,OAAjE,UACI,8BACKtH,EAAMmO,WAEVH,GAAW,+BAAOD,EAAKzG,YAKvB8G,EAAW,SAACpO,GAAW,IAEzB8N,EAA6B9N,EAA7B8N,MAAgBO,GAAarO,EAAtB+N,KAFiB,YAEK/N,EAFL,mBAI/B,OAAO,cAAC6N,EAAD,2BAAiB7N,GAAjB,aACH,oDAAc8N,GAAWO,QAKpB5G,EAAQ,SAACzH,GAAW,IAEtB8N,EAA6B9N,EAA7B8N,MAAgBO,GAAarO,EAAtB+N,KAFc,YAEQ/N,EAFR,mBAI5B,OAAO,cAAC6N,EAAD,2BAAiB7N,GAAjB,aACH,iDAAW8N,GAAWO,QAMjB7G,EAAc,WAA4G,IAA3G3I,EAA0G,uDAAnG,QAASM,EAA0F,wDAA5EmP,EAA4E,uDAAhE,QAAShC,EAAuD,wDAAtCiC,EAAsC,uDAA1B,GAAIC,EAAsB,uDAAjB,GAAIxO,EAAa,uDAAP,GAC3H,OAAO,gCACK,cAAC,IAAD,aACInB,KAAMA,EACNM,KAAMA,EACNmP,YAAaA,EACbhC,UAAWA,EACXmC,SAAUF,GACNvO,IAPb,IAOuBwO,O,mBC5ClCnO,EAAOC,QAAU,CAAC,SAAW,wBAAwB,aAAe,4BAA4B,WAAa,0BAA0B,UAAY,yBAAyB,cAAgB,6BAA6B,UAAY,yBAAyB,SAAW,wBAAwB,SAAW,0B,mBCA5SD,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,mECD1G,MAA0B,mCCU1B8L,IANF,SAACpM,GACV,OAAO,qBAAKoG,UAAWC,IAAQqI,YAAxB,SACC,qBAAKtI,UAAWC,IAAQsI,UAAWjI,IAAI,GAAGD,IAAKmI,Q,mBCL3DvO,EAAOC,QAAU,CAAC,OAAS,uBAAuB,IAAM,oBAAoB,WAAa,6B,8PCCnFuO,EAAW,WACXC,EAAc,cAGdC,EAAkB,kBAClBC,EAAmB,mBACnBC,EAAkB,kBAEpBvQ,EAAe,CACfwQ,MAAQ,CACJ,CAAEtQ,GAAI,EAAGuQ,WAAY,EAAG9N,KAAM,oBAC9B,CAAEzC,GAAI,EAAGuQ,WAAY,GAAI9N,KAAM,uBAEnC+N,aAAc,GACdC,QAAS,KACTxN,WAAY,IAoDHyN,EAAuB,SAACC,GACjC,MAAO,CACHpQ,KAAM0P,EACNU,YAAYA,IAWPC,EAAyB,SAAC5Q,GACnC,MAAO,CACHO,KAAM4P,EACNnQ,GAAIA,IAcC6Q,EAAgB,SAAC5N,GAE1B,MAAO,CACH1C,KAAM8P,EACNpN,WAAYA,IAMP6N,EAAiB,SAAChO,GAC3B,8CAAO,WAAOoB,GAAP,eAAAC,EAAA,sEAEkBvB,IAAWC,WAAWC,GAFxC,OAECR,EAFD,OAGH4B,GAtBuBuM,EAsBEnO,EAASC,KArB/B,CACHhC,KAAM6P,EACNK,QAASA,KAgBN,iCAnBmB,IAACA,IAmBpB,OAAP,uDAQSM,EAA4B,SAACjO,GACtC,8CAAO,WAAOoB,GAAP,eAAAC,EAAA,sEAEkBvB,IAAWG,UAAUD,GAFvC,OAECR,EAFD,OAGH4B,EAAU2M,EAAcvO,EAASC,OAH9B,2CAAP,uDAQSyO,EAA4B,SAAC/N,GACtC,8CAAO,WAAOiB,GAAP,SAAAC,EAAA,sEAEkBvB,IAAWI,UAAUC,GAFvC,OAG8B,IAH9B,OAGUV,KAAK6B,YACdF,EAAU2M,EAAc5N,IAJzB,2CAAP,uDASWwD,IAtHQ,WAAqC,IAAnChG,EAAkC,uDAA1BX,EAAcY,EAAY,uCAEvD,OAASA,EAAOH,MACZ,KAAK0P,EAED,IAAIgB,EAAW,CACXjR,GAAIS,EAAM6P,MAAM1P,OAAS,EACzB6B,KAAM/B,EAAOiQ,YACbJ,WAAY,GAGhB,OAAO,2BACA9P,GADP,IAEI6P,MAAM,GAAD,mBAAM7P,EAAM6P,OAAZ,CAAmBW,MAIhC,KAAKf,EAED,OAAO,2BACAzP,GADP,IAEI6P,MAAO7P,EAAM6P,MAAMlK,QAAQ,SAAC8K,GAAQ,OAAOA,EAAElR,IAAMU,EAAOyQ,YAGlE,KAAKhB,EACD,OAAO,2BACA1P,GADP,IAEI+P,aAAc,CAAC9P,EAAOV,MAI9B,KAAKoQ,EAEL,OAAO,2BACA3P,GADP,IAEIgQ,QAAS/P,EAAO+P,UAGpB,KAAKJ,EACD,OAAO,2BACA5P,GADP,IAEIwC,WAAYvC,EAAOuC,aAG3B,QACI,OAAOxC,K,gCCjEnB,oEAAO,IAAMqI,EAAW,SAACsI,GACzB,IAAKA,EAGD,MAAO,qBAaEC,EAAwB,SAACzQ,GAAD,OAAY,SAACwQ,GAC9C,KAAKA,GAASA,EAAMxQ,QAAUA,GAG1B,MAAO,wC,mBCpBfa,EAAOC,QAAU,CAAC,YAAc,4BAA4B,UAAY,6B","file":"static/js/main.4295b775.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\r\n\r\nlet initialState =  {\r\n            \r\n    dialogs : [\r\n        { id: 1, name: 'Ivanov Ivan Ivanovich'},\r\n        { id: 2, name: 'Sergey'},\r\n        { id: 3, name: 'Stas'},\r\n        { id: 4, name: 'Nataliya'}\r\n    ],\r\n    messages : [\r\n        { id: 1, userid: 2, message: 'Hi' },\r\n        { id: 2, userid: 0, message: 'Hi' },\r\n        { id: 3, userid: 2, message: 'How are you?' },\r\n        { id: 4, userid: 2, message: 'Have you ever coded in React?' },\r\n        { id: 5, userid: 2, message: 'I have special offer for you)) Text me back, please)' }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case ADD_MESSAGE: {\r\n            let newMessage = {\r\n                id: state.messages.length + 1, \r\n                message: action.newMessageText\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            };\r\n        }\r\n\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendNewMessageCreator = (newMessageText) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessageText: newMessageText\r\n    }\r\n};\r\n\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n       \r\n        render () {\r\n            \r\n            if ( this.props.isAuth === false ) {\r\n                return <Redirect to={\"/login\"} />;\r\n            }\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n    \r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedRedirectComponent;\r\n}","\r\nlet initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\nexport default sidebarReducer;","export default __webpack_public_path__ + \"static/media/undefined-user.e016cbaa.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Messages_main__rw10I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Music_main__wk4fp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"News_main__3uwcL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Params_main__1NArE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__3kGCr\",\"item\":\"NavBar_item__1vlAh\",\"activeLink\":\"NavBar_activeLink__Ondlz\"};","import * as axios from 'axios';\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    headers: {\r\n        \"API-KEY\": '281833bb-2ecf-4416-a0dc-dfa4fdba3f29' \r\n    }\r\n});\r\n\r\n\r\nexport const userAPI = {\r\n\r\n    getUsers: (currentPage = 1 , pageSize = 10) => {\r\n        return instance.get( `/users?page=${currentPage}&count=${pageSize}` )\r\n        .then( (response ) => {\r\n            // возвращаем поменьше, чем возвращает API\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    followUser: (userid) => {\r\n        return instance.post(`/follow/${userid}`);\r\n    }, \r\n\r\n    unfollowUser: (userid) => {\r\n        return instance.delete(`/follow/${userid}`);\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile: (userId) => {\r\n        return instance.get(`/profile/${userId}`)\r\n        .then( ( response ) => {\r\n            return response;\r\n        });\r\n    },\r\n\r\n    getStatus: (userId) => {\r\n        return instance.get(`/profile/status/${userId}`)\r\n        .then( (response) => {\r\n        \r\n            return response;\r\n        } )\r\n    },\r\n\r\n    setStatus: (statusText) => {\r\n        return instance.put(`/profile/status`, { status: statusText })\r\n        .then( (response) => {\r\n            return response;\r\n        } )\r\n    } \r\n\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n    authMe: () => {\r\n        return instance.get(`/auth/me`)\r\n    },\r\n    login: ( email, password, rememberMe = false ) => {\r\n        return instance.post(`/auth/login`, {email, password, rememberMe} );\r\n    },\r\n    logout: ( ) => {\r\n        return instance.delete(`/auth/login`);\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__17LNZ\",\"pageNumber\":\"Paginator_pageNumber__FCujm\",\"paginator\":\"Paginator_paginator__7-5fx\",\"button\":\"Paginator_button__QEBms\",\"buttonArrow\":\"Paginator_buttonArrow__2zZGM\",\"buttonArrowLeft\":\"Paginator_buttonArrowLeft__32gWp\",\"buttonArrowRight\":\"Paginator_buttonArrowRight__trA0N\"};","import { authAPI } from './../api/api';\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_USER_DATA = \"SET-USER-DATA\";\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\n\r\nlet initialState =  {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    \r\n    switch (action.type){\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n\r\n            };\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n\r\n        default :\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const setIsFetching = ( isFetching ) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching: isFetching\r\n    }\r\n}\r\n\r\nexport const setAuthUserDataCreator = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {\r\n            userId: userId,\r\n            email: email,\r\n            login: login,\r\n            isAuth: isAuth\r\n        }\r\n    }\r\n};\r\n\r\nexport const getAuthUserThunkCreator = () => {\r\n    return async (dispatch) => {\r\n        dispatch( setIsFetching(true) );\r\n        \r\n        let response =  await authAPI.authMe();\r\n  \r\n        if ( response.data.resultCode === 0 ){\r\n            let { id, email, login } = response.data.data;\r\n            dispatch( setAuthUserDataCreator(id, email, login, true) );\r\n        }\r\n        dispatch( setIsFetching(false) );\r\n        \r\n\r\n       \r\n            // let response  = await profileAPI.getProfile(response.id)\r\n\r\n            //     dispatch( setUserProfile(response.data) );\r\n\r\n\r\n    }\r\n};\r\n\r\nexport const login = ( email, password, rememberMe, captcha ) => {\r\n    return async ( dispatch ) => {\r\n        \r\n        let response = await authAPI.login( email, password, rememberMe );\r\n        \r\n        if ( response.data.resultCode === 0 ){\r\n            dispatch( getAuthUserThunkCreator() );\r\n        } else {\r\n            let message = ( response.data.messages.length > 0 && response.data.messages[0] ) || \"Everything is wrong\";\r\n            let action = stopSubmit('login', {_error: message});\r\n            dispatch(action)\r\n        }   \r\n    }\r\n};\r\n\r\nexport const logout = () => {\r\n    return async ( dispatch ) => {\r\n        let response = await authAPI.logout();\r\n        \r\n        if ( response.data.resultCode === 0 ){\r\n            dispatch( setAuthUserDataCreator( null, null, null, false) );\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default authReducer;","import { getAuthUserThunkCreator } from './authReducer'\r\n\r\nconst SET_INITIALIZE_SUCCESS = \"SET-INITIALIZE-SUCCESS\";\r\n\r\nlet initialState =  {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case SET_INITIALIZE_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        }\r\n\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const setInitializeSuccess = () => {\r\n    return {\r\n        type: SET_INITIALIZE_SUCCESS\r\n    }\r\n};\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch( getAuthUserThunkCreator() );\r\n\r\n    Promise.all( [promise] )\r\n    .then( () => {dispatch( setInitializeSuccess())} );\r\n};\r\n\r\nexport default appReducer;","export const updateObjectInArray = (items, itemId, propName, newObjAttr) => {\r\n\r\n   return items.map( elem => {\r\n        if ( elem[propName] === itemId ){\r\n            return { ...elem, ...newObjAttr }\r\n        }\r\n        return elem;\r\n    })\r\n\r\n}\r\n\r\n","import { userAPI } from './../api/api';\r\nimport {updateObjectInArray } from './../utils/objectHelper'\r\n\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET-USERS-TOTAL-COUNT';\r\nconst TOOGLE_IS_FETCHING = 'TOOGLE-IS-FETCHING'\r\nconst TOOGLE_IS_FOLLOWING_PROGRESS = 'TOOGLE-IS-FOLLOWING-PROGRESS'\r\n\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    portionSize: 10,\r\n    usersTotalCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []    \r\n};\r\n\r\nconst usersReducer = ( state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            \r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray( state.users, action.id, 'id', {followed: true} )\r\n                // state.users.map( elem => {\r\n                    \r\n                //     if ( elem.id === action.id ){\r\n                        \r\n                //         return {...elem, followed: true}\r\n                //     }\r\n                    \r\n                //     return elem;\r\n                // })\r\n            } \r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users:  updateObjectInArray( state.users, action.id, 'id', {followed: false} )\r\n                // state.users.map( elem => {\r\n                //     if ( elem.id === action.id ){\r\n                //         return { ...elem, followed: false }\r\n                //     }\r\n                //     return elem;\r\n                // })\r\n            }     \r\n\r\n        case SET_USERS :\r\n             \r\n            return {\r\n                ...state, \r\n                users: action.users\r\n            }\r\n        \r\n        case SET_CURRENT_PAGE :\r\n          \r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n\r\n        case SET_USERS_TOTAL_COUNT :\r\n            \r\n            return {\r\n                ...state,\r\n                usersTotalCount: action.count\r\n            } \r\n\r\n        case TOOGLE_IS_FETCHING :\r\n            \r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n\r\n        case TOOGLE_IS_FOLLOWING_PROGRESS :\r\n        \r\n            let followingInProgress = action.isFetching ? \r\n                [...state.followingInProgress, action.userid] :\r\n                state.followingInProgress.filter( (id) => { return id !== action.userid } )\r\n            return {\r\n                ...state,\r\n                followingInProgress: followingInProgress \r\n            } \r\n        \r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n// START Action creators\r\nexport const followSuccess = (id) => { \r\n    return {\r\n        type: FOLLOW,\r\n        id\r\n    };\r\n}\r\n\r\nexport const unfollowSuccess = (id) => { \r\n    return {\r\n        type: UNFOLLOW,\r\n        id\r\n    };\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    };\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: currentPage\r\n    };\r\n}\r\n\r\nexport const setUsersTotalCount = ( usersTotalCount ) => {\r\n    \r\n    return {\r\n        type: SET_USERS_TOTAL_COUNT,\r\n        count: usersTotalCount\r\n    };\r\n}\r\n\r\nexport const setIsFetching = ( isFetching ) => {\r\n    return {\r\n        type: TOOGLE_IS_FETCHING,\r\n        isFetching: isFetching\r\n    };\r\n}\r\n\r\nexport const toggleIsFollowingProgress = ( isFetching, userid ) => {\r\n    return {\r\n        type: TOOGLE_IS_FETCHING,\r\n        isFetching: isFetching,\r\n        userid: userid\r\n    };\r\n}\r\n// END Action creators\r\n\r\n// thunk\r\nexport const getUsersThunkCreator = ( choosedPage, pageSize ) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch( setIsFetching(true) );\r\n        dispatch( setCurrentPage( choosedPage ) );\r\n        \r\n        let response = await userAPI.getUsers( choosedPage, pageSize );\r\n        \r\n        dispatch( setIsFetching( false ) );\r\n        dispatch( setUsers( [...response.items] ) );\r\n        dispatch( setUsersTotalCount( response.totalCount ) );\r\n    };\r\n}\r\n\r\nconst followUnfollow =  async (dispatch, userid, apiMethod, success) => {\r\n\r\n    dispatch( toggleIsFollowingProgress(true, userid) );\r\n    let response = await apiMethod(userid)\r\n    if ( response.data.resultCode === 0 ) {\r\n        dispatch( success(userid) ) ;\r\n    }\r\n    dispatch( toggleIsFollowingProgress(false, userid) );\r\n}\r\n\r\nexport const followThunkCreator = ( userid )=> {\r\n    return async (dispatch) => {\r\n\r\n        let apiMethod = userAPI.followUser.bind(userAPI);\r\n        followUnfollow(dispatch, userid, apiMethod, followSuccess);\r\n    }\r\n};\r\n\r\nexport const unfollowThunkCreator = (userid) => {\r\n    return async (dispatch) => {\r\n\r\n        let apiMethod = userAPI.unfollowUser.bind(userAPI);\r\n        followUnfollow(dispatch, userid, apiMethod, unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {createStore, combineReducers, applyMiddleware ,compose} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport profileReducer from './profileReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './userReducer';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer';\r\n\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    dialogsPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n    \r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    reducers, \r\n    /* preloadedState, */ \r\n    composeEnhancers(\r\n        applyMiddleware(thunkMiddleware)\r\n    )\r\n);\r\n\r\n//let store = createStore( reducers, applyMiddleware(thunkMiddleware) );\r\n\r\nexport default store;\r\nwindow.store = store;","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    \r\n    return (\r\n        <header className={classes.header}>\r\n            <a href=\"/\">\r\n                <img className={classes.img} src=\"https://www.freelogodesign.org/file/app/client/thumb/5fd79ff2-74e1-456f-8608-cc53898fa761_200x200.png?1604860269063\" alt=\"\"/>\r\n            </a>\r\n            <div className={classes.loginBlock}>\r\n                {\r\n                    \r\n                    props.isAuth \r\n                    ? <div> \r\n                            <div>{props.login}</div> - <button onClick={props.logout}>Logout</button>\r\n                        </div>     \r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n                }\r\n            </div>\r\n            \r\n                \r\n  \r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport * as axios from 'axios';\r\nimport {setIsFetching, setAuthUserDataCreator} from './../../redux/authReducer';\r\nimport {connect} from 'react-redux';\r\nimport { setUserProfile } from './../../redux/profileReducer'\r\nimport {getAuthUserThunkCreator, logout} from './../../redux/authReducer'\r\nimport { authAPI, profileAPI } from './../../api/api'\r\nclass HeaderContainer extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    componentDidMount(){\r\n    }\r\n\r\n    render (){\r\n        return <Header {...this.props}/>\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    \r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         setAuthUser: (userId, email, login) => {\r\n//             dispatch( setAuthUserDataCreator(userId, email, login) );\r\n//         },\r\n//         loadUserProfile: (userId) => {\r\n//             dispatch( setUserProfile(userId) );\r\n//         }\r\n//     }\r\n// }\r\nexport default connect(mapStateToProps, {logout} )(HeaderContainer);","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport classes from'./NavBar.module.css';\r\n\r\n\r\nconst NavBar = () => {\r\n\treturn (\r\n\t\t<nav className={classes.nav}>\r\n\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/profile\"\r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\t\tProfile\r\n\t\t\t\t</NavLink>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/dialogs\" \r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\t\tDialogs\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n            <div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/users\" \r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\t\tUsers\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/messages\"                    \r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\t\tMessages\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/news\"\r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\t\tNews\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/music\"\r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\t\tMusic\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/settings\"\r\n\t\t\t\t\tactiveClassName={classes.activeLink}>\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</nav>\r\n\t);\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport {Field,reduxForm} from 'redux-form'\r\nimport { Input } from './../Common/FormControls/FormControls'\r\nimport { required } from './../../utils/validators/validators'\r\nimport classes from './../Common/FormControls/FormControls.module.css'\r\nimport {createField} from './../Common/FormControls/FormControls'\r\n\r\n// 90 - props -> {handleSubmit, error}\r\n// Field -> createField\r\nconst LoginForm = ( {handleSubmit, error} ) => {\r\n    return (\r\n        <form action=\"\" onSubmit={ handleSubmit }>   \r\n            { createField('email', false, 'Email', Input, [required]) }\r\n                {/* <div><Field placeholder={\"Email\"} \r\n                       name={\"email\"} \r\n                       component={Input}\r\n                       validate={[required]}/> </div>*/}\r\n            { createField('password', 'password', 'Password', Input, [required]) }\r\n            {/*<div>\r\n                <Field placeholder={\"Password\"} \r\n                       name={\"password\"}\r\n                       type={\"password\"}\r\n                       component={Input}\r\n                       validate={[required]}/>\r\n            </div>*/}\r\n             { createField('rememberMe', 'checkbox', '', Input, [], 'remember me' )}\r\n            {/* <div>\r\n                <Field type={\"checkbox\"} \r\n                       name={\"rememberMe\"} \r\n                       component={Input}/>\r\n            </div> */}\r\n            { error ? \r\n             <div className={classes.formSummaryError}>{error}</div>\r\n            :<div></div>\r\n            }\r\n           \r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nexport default LoginReduxForm;","import React from 'react';\r\nimport LoginReduxForm from './LoginForm'\r\nimport { connect } from 'react-redux'\r\nimport {login} from './../../redux/authReducer'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        //console.log(formData)\r\n        \r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to=\"/profile\"/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div> \r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import React, { useState } from 'react';\r\nimport classes from './Paginator.module.css'\r\n\r\n\r\nlet Paginator = ({totalCount, pageSize, currentPage, setCurrentPage, portionSize}) => {\r\n    \r\n    let pagesCount = Math.ceil( totalCount / pageSize) ;\r\n    let pages = [];\r\n\r\n    for ( let i = 1; i <= pagesCount; i++ ) {\r\n        pages.push(i)\r\n    }\r\n    \r\n    let portionCount = Math.ceil( pagesCount / portionSize );\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = ( portionNumber - 1 ) * portionSize + 1;\r\n    let rightPorionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n            <div className={classes.paginator}>\r\n                { portionNumber > 1 && \r\n                    <button className={classes.button} onClick={ () => {setPortionNumber( portionNumber - 1)}  }>\r\n                        <div className={classes.buttonArrow + ' ' + classes.buttonArrowLeft}></div>\r\n                    </button>\r\n               \r\n                }{\r\n                    pages\r\n                    .filter( (page) => { \r\n                        return page >= leftPortionPageNumber && page <= rightPorionPageNumber} \r\n                    )\r\n                    .map( (page) => {\r\n                        let bold = currentPage === page ?  'selectedPage' : '';\r\n                        return (\r\n                            <span onClick={ (e) => { setCurrentPage(page) }}\r\n                                     key={page}\r\n                                     className={ classes.pageNumber + ' ' + classes[bold] \r\n                                }>{page}</span>\r\n                        )\r\n                         \r\n                    })\r\n                }{\r\n                  portionCount > portionNumber && \r\n                    <button className={classes.button} onClick={ () => {setPortionNumber( portionNumber + 1)} }>\r\n                        <div className={classes.buttonArrow + ' ' + classes.buttonArrowRight}></div>\r\n                    </button>\r\n                }\r\n            \r\n            </div>  \r\n    )\r\n}\r\n    \r\n   \r\n            \r\n    \r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from './Users.module.css'\r\nimport undefinedUser from '../../assets/img/undefined-user.svg'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nlet User = ({user, userKey, followingInProgress, follow, unfollow}) => {\r\n    return (\r\n        <div className={classes.userContainer} key={userKey}>\r\n            <div className={classes.userIcon}>\r\n                <div src={user.photoUrl}>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : undefinedUser} \r\n                                alt=\"#\" \r\n                                className={classes.photoUrl}/>\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={classes.userName}>\r\n                <div>Name: {user.name}</div>\r\n                <div>Status: {user.status}</div>\r\n                <div>Id: {user.id}</div>\r\n            </div>\r\n            \r\n            <div className={classes.follow}>\r\n                { \r\n                    user.followed \r\n                    ? <button disabled={ followingInProgress.some( (id) => id === user.id) }    \r\n                            onClick = { () => { unfollow(user.id); } }>Unfollow</button> \r\n\r\n                    : <button disabled={followingInProgress.some( (id) => id === user.id)}\r\n                                onClick = { () => { follow(user.id); } }>Follow</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../Common/Paginator/Paginator'\r\nimport User from './User'\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <>\r\n           <Paginator \r\n                totalCount = {props.usersTotalCount}\r\n                pageSize = {props.pageSize}\r\n                currentPage ={props.currentPage}\r\n                setCurrentPage ={props.setCurrentPage}\r\n                portionSize={props.portionSize}\r\n           />\r\n            { \r\n                props.users.map(u => { \r\n                    \r\n                    return (\r\n                        <User \r\n                            user={u}\r\n                            userKey={u.id}\r\n                            key={u.id}\r\n                            followingInProgress={props.followingInProgress}\r\n                            follow={props.follow}\r\n                            unfollow={props.unfollow}\r\n                        />\r\n                    )\r\n                })\r\n            }    \r\n        </>\r\n    )\r\n}\r\n    \r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\n// simple selectors\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getUsersTotalCount = (state) => {\r\n    return state.usersPage.usersTotalCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n\r\nexport const getIsAuth = (state) => {\r\n    return state.usersPage.isAuth;\r\n};\r\n\r\nexport const getPortionSize = (state) => {\r\n    \r\n    return state.usersPage.portionSize ;\r\n};\r\n\r\n\r\n// selectors [reselect]\r\n\r\nexport const getUsersFiltered = (state) => {\r\n    return getUsers(state).filter( (u)=> {\r\n        return true;    \r\n    });\r\n};\r\n\r\nconst getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsersSelector = createSelector( \r\n    getUsers,\r\n    getIsFetching,\r\n    (users, isFetching) => { return users.filter( u => true ) }\r\n)","import React from 'react';\r\n// import UsersAPIComponent from './UsersAPIComponent'\r\nimport Users from './Users'\r\nimport { \r\n         getUsersThunkCreator, \r\n         followThunkCreator,\r\n         unfollowThunkCreator } from '../../redux/userReducer';\r\nimport { connect } from 'react-redux';\r\nimport {withAuthRedirect} from './../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux';\r\nimport { getUsersSelector,\r\n         getPageSize,\r\n         getUsersTotalCount,\r\n         getCurrentPage,\r\n         getIsFetching,\r\n         getFollowingInProgress,\r\n         getIsAuth,\r\n         getPortionSize\r\n} from './../../redux/userSelectors'\r\nclass UsersAPIContainer extends React.Component {\r\n    \r\n    componentDidMount(){\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsersThunkCreator( currentPage, pageSize );\r\n    }\r\n\r\n    setCurrentPage = ( choosedPage ) => { \r\n        let {pageSize} = this.props;\r\n        this.props.getUsersThunkCreator( choosedPage, pageSize );\r\n    }\r\n\r\n    render = () => {    \r\n            \r\n    return <Users \r\n            users={this.props.users}\r\n            pageSize={this.props.pageSize}\r\n            portionSize={this.props.portionSize}\r\n            usersTotalCount={this.props.usersTotalCount}\r\n            isFetching={this.props.isFetching}\r\n            followingInProgress={this.props.followingInProgress} \r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            setCurrentPage={this.setCurrentPage}\r\n            currentPage={this.props.currentPage}       \r\n        />\r\n    }\r\n};\r\n\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         usersTotalCount: state.usersPage.usersTotalCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress,\r\n//         isAuth: state.auth.isAuth\r\n//     }\r\n// };\r\n\r\nconst mapStateToProps = (state) => {  \r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        usersTotalCount: getUsersTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\n//let withAuthRedirect = (UsersAPIContainer)\r\n// export default withAuthRedirect ( connect( mapStateToProps, {\r\n//         // follow: followAC,\r\n//         // followSuccess, \r\n//         // unfollowSuccess,\r\n//         // setUsers, \r\n//         // setCurrentPage,\r\n//         // setUsersTotalCount,\r\n//         // setIsFetching,\r\n//         // toggleIsFollowingProgress, \r\n//         getUsers: getUsersThunkCreator,\r\n//         follow: followThunkCreator,\r\n//         unfollow: unfollowThunkCreator\r\n//     } )(UsersAPIContainer) ) ;\r\n\r\nexport default compose (\r\n    connect( mapStateToProps, {\r\n        getUsersThunkCreator: getUsersThunkCreator,\r\n        follow: followThunkCreator,\r\n        unfollow: unfollowThunkCreator\r\n    }),\r\n    withAuthRedirect\r\n)(UsersAPIContainer);\r\n\r\n","import React from 'react';\r\nimport classes from'./Messages.module.css';\r\n\r\nconst Messages = (props) => {\r\n    return (\r\n        <div className={classes.main}>\r\n            Messages\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\nimport classes from'./Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={classes.main}>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport classes from'./News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={classes.main}>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from'./Params.module.css';\r\n\r\nconst Params = (props) => {\r\n    return (\r\n        <div className={classes.main}>\r\n            Params\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Params;\r\n\r\n\r\n","import './App.css';\nimport React, { Suspense } from 'react';\nimport {compose} from 'redux';\nimport {connect } from 'react-redux'\nimport {HashRouter, BrowserRouter, Route, withRouter} from \"react-router-dom\";\n\nimport { initializeApp } from './redux/appReducer'\n\nimport Loader from './components/Common/Loader/Loader';\nimport store from './redux/redux-store'\nimport {Provider} from 'react-redux'\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\"; \nimport NavBar from \"./components/NavBar/NavBar\"; \nimport LoginPage from './components/Login/Login'\n//import ProfileContainer from \"./components/Profile/ProfileContainer\"; \n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Messages from \"./components/Messages/Messages\";\nimport Music from \"./components/Music/Music\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Params/Params\";\n\nimport {WithSuspense} from './hoc/WithSuspense'\n\nconst DialogsContainer = React.lazy( () => import(\"./components/Dialogs/DialogsContainer\") );\nconst ProfileContainer = React.lazy( () => import(\"./components/Profile/ProfileContainer\") );\n\n\nlet getMessages = () => <Messages/> \n \nclass App extends React.Component {\n    componentDidMount(){\n        this.props.initializeApp();\n    }\n\n    render (){\n        \n        if( !this.props.initialized ){\n            return <Loader/>;\n        }\n       \n        return ( \n           <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <NavBar/>\n                <div className=\"app-wrapper-content\">\n                    {/* <Route path=\"/profile\" component={Profile}/> */}\n                    {/* <Route path=\"/dialogs\" component={Dialogs} /> */}\n                    <Route path=\"/profile/:userId?\" \n                           render={WithSuspense(ProfileContainer)}\n                    />\n                    <Route path=\"/dialogs\" \n                        render={ () => <React.Suspense fallback={<div>Loading...</div>}><DialogsContainer/></React.Suspense> }\n                    />\n                    <Route path=\"/users\" \n                        render={ () => <UsersContainer/> }\n                    />\n                    <Route path=\"/login\"\n                         render={ () => <LoginPage/> }\n                    />\n                    <Route path=\"/messages\" component={getMessages} />\n                    <Route path=\"/music\"    component={Music} />\n                    <Route path=\"/settings\" component={Settings} />\n                    <Route path=\"/news\"     component={News} />\n                </div>\n            </div>\n        )\n    };\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nlet AppComposed = compose(\n    connect( mapStateToProps, { initializeApp} ),\n    withRouter\n)(App);\n\n\nconst AppContainer = () => {\n    console.log('process.env.PUBLIC_URL', process.env)\n    return (\n        \n        <HashRouter basename={process.env.PUBLIC_URL}>\n        {/* <BrowserRouter basename={process.env.PUBLIC_URL}> */}\n            <Provider store={store}>\n                <AppComposed/>\n            </Provider>\n        {/* </BrowserRouter> */}\n        </HashRouter>\n    )\n}\n\nexport default AppContainer; \n","import React from 'react';\r\nimport Loader from './../components/Common/Loader/Loader'\r\n\r\nexport const WithSuspense = (Component) => {\r\n   \r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Loader/>}>\r\n                <Component {...props}/>\r\n            </React.Suspense>\r\n        )\r\n    };\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import App from './App';\nimport AppContainer from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\n    ReactDOM.render(\n        <AppContainer/>,\n        document.getElementById('root')\n    );\n\n// store.subscribe( () => {\n//     let state = store.getState() \n//     renderEntireTree( state );\n// } );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react';\r\nimport classes from './FormControls.module.css'\r\nimport {Field} from 'redux-form'\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    const isError = meta.touched && meta.error;\r\n    return (\r\n        <div className={classes.formControl + ' ' +  (isError && classes.error)}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {isError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    \r\n    const {input, meta, ...restProps} = props;\r\n\r\n    return <FormControl {...props}>\r\n        <textarea {...input} {...restProps}></textarea>\r\n    </FormControl>\r\n\r\n} \r\n\r\nexport const Input = (props) => {\r\n    \r\n    const {input, meta, ...restProps} = props;\r\n\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n    </FormControl>\r\n\r\n} \r\n\r\n\r\nexport const createField = (name = 'field', type = false, placeholder='field', component=false, validators =[], text='', props={}) => {\r\n    return <div>\r\n                <Field \r\n                    name={name}\r\n                    type={type} \r\n                    placeholder={placeholder} \r\n                    component={component}\r\n                    validate={validators}\r\n                    {...props}/> {text}\r\n            </div>\r\n}\r\n\r\n// export const TextArea = ({input, meta, ...props} ) => {\r\n//     const isError = meta.touched && meta.error;\r\n//     return (\r\n//         <div className={classes.formControl + ' ' +  (isError && classes.error)}>\r\n//             <div>\r\n//                 <textarea {...input} {...props} name=\"\" id=\"\" cols=\"30\" rows=\"1\"></textarea>\r\n//             </div>\r\n//             {isError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props} ) => {\r\n//     const isError = meta.touched && meta.error;\r\n//     return (\r\n//         <div className={classes.formControl + ' ' +  (isError && classes.error)}>\r\n//             <div>\r\n//                 <input {...input} {...props}/>\r\n//             </div>\r\n//             <div>\r\n//             {isError && <span>{meta.error}</span>}\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoUrl\":\"Users_photoUrl__Hhfds\",\"selectedPage\":\"Users_selectedPage__3nXx3\",\"pageNumber\":\"Users_pageNumber__3qm60\",\"paginator\":\"Users_paginator__24EDK\",\"userContainer\":\"Users_userContainer__1lRR4\",\"followBTN\":\"Users_followBTN__1-kCW\",\"userIcon\":\"Users_userIcon__34Qd8\",\"userName\":\"Users_userName__3owsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1MHS9\",\"error\":\"FormControls_error__2_2_g\",\"formSummaryError\":\"FormControls_formSummaryError__2qK8X\"};","export default __webpack_public_path__ + \"static/media/loader.244ab7d6.gif\";","import React from 'react'\r\nimport classes from './Loader.module.css'\r\nimport loader from './../../../assets/img/loader.gif'\r\n\r\nlet Loader = (props) => {\r\n    return <div className={classes.loaderCover}>\r\n            <img className={classes.loaderImg} alt=\"\" src={loader}/>\r\n        </div>\r\n};\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2h7zn\",\"img\":\"Header_img__3JeWx\",\"loginBlock\":\"Header_loginBlock__2WJQl\"};","import { profileAPI } from './../api/api';\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst DELETE_POST = \"DELETE-POST\";\r\n\r\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\r\nconst CHOSE_POST_TEXT = \"CHOSE-POST-TEXT\";\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\r\nconst SET_USER_STATUS = \"SET-USER-STATUS\";\r\n\r\nlet initialState = {\r\n    posts : [\r\n        { id: 1, likescount: 1, post: 'Hi, how are you?' },\r\n        { id: 2, likescount: 11, post: 'It\\'s my first post' }\r\n    ],\r\n    chosenPostId: [],\r\n    profile: null,\r\n    statusText: ''\r\n};\r\n\r\nconst profileReducer = ( state = initialState, action ) => {\r\n\r\n    switch ( action.type ) {\r\n        case ADD_POST: {\r\n            \r\n            let newPost =  { \r\n                id: state.posts.length + 1, \r\n                post: action.newPostText,\r\n                likescount: 0  \r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        }\r\n\r\n        case DELETE_POST : {\r\n\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter( (p) => { return p.id != action.postId})\r\n            }  \r\n        }\r\n        case CHOSE_POST_TEXT: {\r\n            return {\r\n                ...state,\r\n                chosenPostId: [action.id]\r\n            };\r\n        }\r\n\r\n        case SET_USER_PROFILE: \r\n        \r\n        return {\r\n            ...state,\r\n            profile: action.profile\r\n        }\r\n\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                statusText: action.statusText\r\n        } \r\n\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText:newPostText\r\n    }\r\n};\r\n\r\nexport const deletePostActionCreator = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId: postId\r\n    }\r\n};\r\n\r\nexport const chosePostActionCreator = (id) => {\r\n    return {\r\n        type: CHOSE_POST_TEXT, \r\n        id: id\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const setUserProfile = (profile)=> {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile: profile\r\n    }\r\n};\r\n\r\n\r\nexport const getUserStatus = (statusText)=> {\r\n    \r\n    return {\r\n        type: SET_USER_STATUS,\r\n        statusText: statusText\r\n    }\r\n};\r\n\r\n\r\n// Thunks Creators\r\nexport const getUserProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        \r\n        let response = await profileAPI.getProfile(userId);\r\n        dispatch( setUserProfile(response.data) );\r\n    }\r\n};\r\n\r\n\r\nexport const getUserStatusThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await profileAPI.getStatus(userId);\r\n        dispatch( getUserStatus(response.data) );\r\n    }\r\n}\r\n\r\n\r\nexport const setUserStatusThunkCreator = (statusText) => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await profileAPI.setStatus(statusText);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch( getUserStatus(statusText) );\r\n        } \r\n    }\r\n}\r\n\r\nexport default profileReducer;","export const required = (value) => {\r\nif ( value ) {\r\n    return undefined;\r\n}\r\n    return 'Field is required';\r\n    \r\n} \r\n\r\n\r\nexport const maxLength30 = (value) => {\r\n    if ( value && value.length <= 30 ) {\r\n        return undefined;\r\n    }\r\n        return 'Max length for field is 30 symbols';\r\n        \r\n} \r\n\r\nexport const maxLengthThunkCreator = (length) => (value) =>  {\r\n    if ( value && value.length <= length ) {\r\n        return undefined;\r\n    }\r\n        return 'Max length for field is 30 symbols';\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderCover\":\"Loader_loaderCover__5WXns\",\"loaderImg\":\"Loader_loaderImg__3nO12\"};"],"sourceRoot":""}